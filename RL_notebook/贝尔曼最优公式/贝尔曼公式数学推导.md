![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240912234055.png)
黄色区块为forbidden area
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240912234205.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240912234359.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240912234430.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240912234919.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913004716.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913011432.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913122730.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913122826.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123017.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123118.png)
deterministic，确定性的
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123228.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123317.png)
derive，推导
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123643.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913123843.png)
首先，在状态s有多个action可以去take，take action a的概率是Π，当我take action a时，所得到的value就是后面的期望。期望可以化为下面的连家形式，从s出发，take action a，我得到r reward的概率是p，r本身是r
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913124657.png)
从s跳转到不同s'的概率是p(s'|s)，所得到的值是前面的期望，再把所有的可能相加就是期望，前面的值是当前状态是s下一个状态是s‘.
其中St=s的一项是可以去掉的，因为我们已经知道了s’就不需要在关系s，这个conditional expectation![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913145917.png)
就等于上一个![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913145856.png)
，这个性质实际上就是Markov性质，也就是memory less的一个性质是无记忆的。
到第三步，从s到s‘的概率是，从s出发我们可以选择不同的action，每个action的概率又是不同的，![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913150134.png)这个为选择此action的概率，![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913150155.png)这个为从s跳到s’的概率
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913153712.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913153838.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913154223.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913154839.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913154955.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913155108.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913155237.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913155417.png)
r(Π)s代表从当前状态出发，所能得到的immediate reward的一个平均值
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913171158.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913171514.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913171714.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913171850.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913172034.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913190054.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913190224.png)离target area越远state value越小
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913190321.png)
### action value
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913190600.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913190816.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913191835.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913192038.png)
策略改进算法，并不是只有一个a2，所有的action都可以计算
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913192133.png)
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913192214.png)
### summary
![image.png](https://cdn.jsdelivr.net/gh/Bluestone-work/image/image/20240913192503.png)
